<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="GoldDigger - Invest in gold with ease. Get live prices and make informed decisions."
    />
    <link rel="stylesheet" href="index.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Saira+Stencil+One&display=swap"
      rel="stylesheet"
    />
    <title>GoldDigger</title>
  </head>

  <body>
    <header class="site-header">
      <nav class="site-nav">
        <a href="/" class="nav-brand">GoldDigger</a>
        <span id="nav-guest" class="nav-links">
          <a href="login.html">Log in</a>
          <a href="signup.html">Sign up</a>
        </span>
        <span id="nav-user" class="nav-links" hidden>
          <span id="nav-user-name" class="nav-user-name"></span>
          <button type="button" id="nav-logout" class="nav-logout-btn">Log out</button>
        </span>
      </nav>
    </header>
    <main>
      <h1 class="title">GoldDigger</h1>
      <img src="gold.png" alt="gold bars and nuggets" />
      <section class="price-info-container">
        <p>
          $<span id="price-display" class="price" aria-live="assertive"
            >----.--</span
          >
          / Oz*
        </p>
        <p id="connection-status" class="status" aria-live="polite">
          Live Price ðŸŸ¢
        </p>
      </section>

      <!-- æœªãƒ­ã‚°ã‚¤ãƒ³æ™‚: é‡‘ä¾¡æ ¼ã®ã¿ã€‚æŠ•è³‡ã¯ãƒ­ã‚°ã‚¤ãƒ³ä¸­ã®ã¿è¡¨ç¤º -->
      <p id="login-required-msg" class="login-required-msg">
        <a href="login.html">Log in</a> or <a href="signup.html">Sign up</a> to invest and view your portfolio.
      </p>

      <!-- ãƒ­ã‚°ã‚¤ãƒ³ä¸­ã®ã¿: æŠ•è³‡ãƒ•ã‚©ãƒ¼ãƒ ãƒ»ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª -->
      <section id="logged-in-section" class="logged-in-section" hidden>
        <p id="user-info" class="user-info"></p>
        <form id="invest-form">
          <label for="investment-amount">Amount to invest</label>
          <div class="input-container">
            <div class="currency">$</div>
            <input
              type="number"
              id="investment-amount"
              placeholder="100.00"
              required
            />
          </div>
          <button
            id="invest-btn"
            class="invest-btn"
            type="submit"
            aria-label="Invest in gold now"
          >
            Invest Now!
          </button>
        </form>
      </section>

      <!-- ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆãƒ­ã‚°ã‚¤ãƒ³ä¸­ã®ã¿è¡¨ç¤ºï¼‰ -->
      <div id="portfolio-section" class="portfolio-section" hidden style="margin: 20px auto; max-width: 320px; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 20px;">
        <h3 style="margin-top: 0; color: #eee; font-family: 'Saira Stencil One', cursive;">My Gold Portfolio</h3>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; text-align: left; font-size: 0.9em;">
          <div>
            <div style="color: #aaa; font-size: 0.8em;">Total Invested</div>
            <div id="pf-total-usd" style="font-size: 1.1em; font-weight: bold;">$0.00</div>
          </div>
          <div>
            <div style="color: #aaa; font-size: 0.8em;">Gold Owned</div>
            <div id="pf-total-gold" style="font-size: 1.1em; font-weight: bold; color: #ffd700;">0.0000 oz</div>
          </div>
          <div>
            <div style="color: #aaa; font-size: 0.8em;">Avg. Buy Price</div>
            <div id="pf-avg-price">$0.00 / oz</div>
          </div>
          <div>
            <div style="color: #aaa; font-size: 0.8em;">Current Value</div>
            <div id="pf-current-value">$0.00</div>
          </div>
        </div>
        <div id="pf-profit-loss" style="margin-top: 15px; font-weight: bold; font-size: 1.2em; text-align: center;">
          --
        </div>
      </div>

      <!-- This dialog opens after a successful purchase -->
      <dialog
        class="outputs"
        role="dialog"
        id="dialog"
        aria-labelledby="dialog-title"
        aria-describedby="investment-summary"
        lang="en"
      >
        <h2>Summary</h2>
        <p id="investment-summary">
          You just bought 1.3 ounces (ozt) for $3000. \n You will receive
          documentation shortly.
        </p>
        <button aria-label="Close dialog and return to main page" autofocus id="close-dialog-btn">
          OK
        </button>
      </dialog>
      <p class="footnote">* 1oz = 1 troy ounce of 24 Carat Gold</p>
    </main>
    <script src="nav.js"></script>
    <script type="module" src="index.js"></script>
  </body>
</html>
