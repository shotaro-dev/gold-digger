# GoldDigger 🪙

リアルタイム金価格表示と投資シミュレーションアプリケーション

## 📝 プロジェクトについて

このプロジェクトは、**Scrimbaのソロプロジェクト**をベースにしています。
- CSS、HTML、画像はScrimbaから提供された素材を使用
- Cursor（AIアシスタント）を使用して実装とコードレビューを行いました
- Node.jsの基礎学習を目的とした学習用プロジェクトです

## 📋 概要

このプロジェクトは、Node.jsの基礎を学ぶための学習用アプリケーションです。生のNode.js HTTPサーバーを使用し、外部APIからリアルタイムで金価格を取得し、投資シミュレーションを行うことができます。

## ✨ 機能

- **リアルタイム価格表示**: Server-Sent Events (SSE) を使用して金価格をリアルタイムで表示
- **投資シミュレーション**: 投資金額を入力して、購入できる金の量を計算
- **レスポンシブデザイン**: モダンなUI/UX

## 🛠️ 技術スタック

- **バックエンド**: Node.js (生のHTTPサーバー)
- **フロントエンド**: Vanilla JavaScript (ES6+)
- **リアルタイム通信**: Server-Sent Events (SSE)
- **イベント管理**: EventEmitter
- **開発ツール**: nodemon (ファイル変更の自動検知・再起動)
- **外部API**: [Gold-API.com](https://api.gold-api.com/) (無料・APIキー不要)

## 📚 学習内容

このプロジェクトで学べる主要な概念：

### 1. Node.js HTTPサーバー
- `http`モジュールを使用した基本的なHTTPサーバーの作成
- リクエスト/レスポンスの処理
- ルーティングの実装

### 2. 静的ファイル配信
- `fs`モジュールでファイルシステムにアクセス
- `path`モジュールでパスを操作
- Content-Typeヘッダーの設定

### 3. ルーティング
- URLパスに基づいたルーティング
- HTTPメソッド（GET, POST）の処理
- エラーハンドリング（404ページ）

### 4. EventEmitter
- イベント駆動プログラミングの基礎
- カスタムイベントの発火とリスニング
- クラス継承による拡張

### 5. 外部API連携
- `fetch` APIを使用したHTTPリクエスト
- 非同期処理（async/await）
- エラーハンドリング

### 6. Server-Sent Events (SSE)
- サーバーからクライアントへの一方向リアルタイム通信
- リアルタイムデータストリーミング
- 接続管理とクリーンアップ

### 7. フロントエンド
- Vanilla JavaScriptでのDOM操作
- EventSource APIの使用
- モーダルダイアログの実装

## 🚀 セットアップ

### 必要な環境
- Node.js (v18以上推奨)

### インストール

```bash
# 依存関係のインストール
npm install
```

### 実行

```bash
# 開発モード（推奨）
# nodemonを使用：ファイル変更を自動検知してサーバーを再起動
npm run dev

# 通常モード
npm start
```

**開発時の推奨**: `npm run dev` を使用すると、`server.js` やその他のファイルを変更するたびに自動的にサーバーが再起動されるため、開発効率が向上します。

サーバーが起動したら、ブラウザで `http://localhost:3000` にアクセスしてください。

## 📁 プロジェクト構造

```
gold-digger/
├── server.js          # メインサーバーファイル
├── package.json       # 依存関係とスクリプト
├── public/            # 静的ファイル
│   ├── index.html     # メインHTML
│   ├── index.css      # スタイルシート
│   ├── index.js       # フロントエンドJavaScript
│   ├── 404.html       # 404エラーページ
│   └── gold.png       # 画像ファイル
└── README.md          # このファイル
```

## 🔄 API エンドポイント

- `GET /` - メインページ
- `GET /api/stream` - SSEストリーム（リアルタイム価格）
- `POST /api/invest` - 投資情報の送信

## 🎯 今後の拡張予定

以下の機能は、SQL/Expressを学んだ後に実装予定：

- [ ] SQLiteデータベースで購入履歴を保存
- [ ] Express.jsへの移行
- [ ] 購入履歴の表示機能
- [ ] PDF証明書の生成（データベースから取得したデータを使用）
- [ ] メール送信機能

## 💡 学習のポイント

このプロジェクトは、フレームワーク（Express等）を使わずに、Node.jsのコア機能を理解することを目的としています。以下の点を意識して学習しました：

1. **低レベルAPIの理解**: フレームワークが何をしているのかを理解する
2. **イベント駆動プログラミング**: Node.jsの非同期処理の基礎
3. **リアルタイム通信**: SSEの実装と使い方
4. **エラーハンドリング**: 適切なエラー処理の実装

## 📝 ライセンス

ISC
